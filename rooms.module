<?php

/**
 * @file
 * Provides basic underlying functionality and configuration options used
 * by all Rooms modules
 */


/**
 * Implements hook_permission().
 */
function rooms_permission() {
  $permissions = array(
    'configure rooms' => array(
      'title' => t('Configure rooms settings'),
      'description' => t('Allows users to configure rooms settings'),
      'restrict access' => TRUE,
    ),
  );

  return $permissions;
}


/**
 * Utility function that returns an array with the last day of each month given a year
 *
 * @param $year
 * The year to get the end of month dates for
 *
 * @param $calendar
 * The calendar to use to determine eof dates
 *
 * @return
 * An array keyed by months
 */
function rooms_end_of_month_dates($year = 2011, $calendar = CAL_GREGORIAN) {
  
  $end_of_month_dates = array();
  
  for ($i = 1; $i<=12; $i++) {
    $end_of_month_dates[$i] = cal_days_in_month(CAL_GREGORIAN, $i, $year);
  }
  
  return $end_of_month_dates;
}